{"version":3,"sources":["Layers.js","menu.js","App.js","serviceWorker.js","index.js"],"names":["MenuLayer","children","layer","document","getElementById","ReactDOM","createPortal","MenuControllerContext","React","createContext","MenuBox","useContext","toggleState","isOpen","MenuExit","isVisible","MenuEntrance","useRef","useEffect","root","menu","focusable","querySelectorAll","filter","el","hasAttribute","length","firstEl","lastEl","addEventListener","e","key","shiftKey","preventDefault","focus","setTimeout","current","setAttribute","id","className","aria-label","map","idx","href","ref","onClick","MenuController","useState","setOpen","setVisible","Provider","value","aria-haspopup","App","isButtonCatched","setCatched","aria-labelledby","onBlur","aria-describedby","class","aria-hidden","Boolean","window","location","hostname","match","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.a746cf4f.chunk.js","sourcesContent":["import ReactDOM from 'react-dom' // React-domì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. CRAë¡œ ë§Œë“  í”„ë¡œì íŠ¸ì— ê¸°ë³¸ì ìœ¼ë¡œ ê¹”ë ¤ìˆìŠµë‹ˆë‹¤.\r\n\r\nexport const MenuLayer = ({children}) =>{  /* \r\n    MenuLayer Portalì„ ë§Œë“¤ê³  íŒŒë¼ë¯¸í„° í•„ë“œì— ê°ì²´ í˜•íƒœë¡œ props.childrenì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.\r\n    Portalì€ rootì™€ ë¶„ë¦¬ëœ ë˜ë‹¤ë¥¸ ìµœìƒìœ„ divì— ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.*/\r\n    const layer = document.getElementById('menuLayer');/*ë ˆì´ì–´ë¡œ ì‚¬ìš©í•  divì˜ ì•„ì´ë””ë¥¼ ì •í•´ì¤ë‹ˆë‹¤.\r\n    ì €ëŠ” ë‹¨ìˆœí•˜ê²Œ menuLayerë¡œ í•˜ê² ìŠµë‹ˆë‹¤. */\r\n    return ReactDOM.createPortal(children,layer)/*\r\n    ì•„ê¹Œ íŒŒë¼ë¯¸í„°ë¡œ ë¶ˆëŸ¬ì˜¨ props.childrenì„ ì²« ë²ˆì§¸ ì¸ìë¡œ\r\n    ìœ„ì—ì„œ const ìƒìˆ˜ë¡œ ë„£ì–´ë‘” menuLayer divë¥¼ ë‘ ë²ˆì§¸ ì¸ìë¡œ ë„£ì–´ì¤ë‹ˆë‹¤.\r\n    */\r\n}","import React, {useState,useContext,useRef, useEffect} from 'react';\r\nimport * as Layers from './Layers';\r\nconst MenuControllerContext = React.createContext();\r\n\r\nconst MenuController = ()=>{\r\n    \r\n    const [isOpen,setOpen] = useState(null);\r\n    const [isVisible,setVisible]=useState(false);\r\n\r\n    const MenuExit = useRef();\r\n\r\n    const toggleState = () => {\r\n        setOpen(!isOpen);\r\n        setVisible(!isOpen)\r\n    }\r\n\r\n\r\n    return (\r\n        <MenuControllerContext.Provider  value={\r\n            {toggleState,isOpen,MenuExit,isVisible}}>\r\n            <button aria-label=\"ë©”ë‰´ ë³´ê¸°\" ref={MenuExit} onClick={toggleState} aria-haspopup={!isOpen} id=\"btnOpenMenu\">\r\n                <span className=\"material-icons md-auto\">menu</span>\r\n            </button>\r\n            <Layers.MenuLayer>\r\n                <MenuBox></MenuBox>\r\n            </Layers.MenuLayer>\r\n        </MenuControllerContext.Provider>\r\n    )\r\n}\r\n\r\nconst MenuBox = ()=>{\r\n    const {toggleState,isOpen,MenuExit,isVisible} = useContext(MenuControllerContext);\r\n    const MenuEntrance = useRef();\r\n\r\n    const menuitems=[\r\n        'Hello, NULI',\r\n        'Hello, Javascript',\r\n        'Hello, React'        \r\n    ]\r\n\r\n    useEffect(()=>{\r\n        const root = document.getElementById('root');//1. ìˆë‹¤ê°€ ì‚¬ìš©í•©ë‹ˆë‹¤ ë¯¸ë¦¬ ì„ ì–¸í•´ìš”.\r\n        const menu = document.getElementById('menuLayer');//2. ì´ˆì ì„ ê°€ì§„ ìš”ì†Œë¥´ ê²€ìƒ‰í•˜ê¸° ìœ„í•´ ë³€ìˆ˜ì— ë©”ë‰´ ì˜ì—­ì„ ë‹´ìŠµë‹ˆë‹¤.\r\n        const focusable = [...menu.querySelectorAll(\r\n        'a, button, input, textarea, select, details, [tabindex]:not([tabindex=\"-1\"])'\r\n        )].filter(el => !el.hasAttribute('disabled'));/*3. ë©”ë‰´ ë‚´ì—ì„œ ì´ˆì ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ìš”ì†Œë¥¼ ë°°ì—´ë¡œ ë‹´ê³ ,\r\n         disabledëœ ìš”ì†Œë¥¼ í•„í„°ë¡œ ê±¸ëŸ¬ì„œ ì €ì¥í•©ë‹ˆë‹¤.*/\r\n        const [firstEl,lastEl] = [focusable[0],focusable[focusable.length-1]];\r\n        /*3-1 í¬ì»¤ìŠ¤ë¥¼ ëª» ë‚˜ê°€ê²Œ ë§‰ì„ ìš”ì†Œë¥¼ ê°ê° ì €ì¥í•©ë‹ˆë‹¤. */\r\n\r\n        if(isOpen){\r\n            \r\n            /*3-2. í¬ì»¤ìŠ¤ë¥¼ ê°€ë‘ëŠ” ì´ë²¤íŠ¸ë“¤ì„ ì‘ì„±í•©ì‹œë‹¤. */\r\n            firstEl.addEventListener('keydown',function(e){\r\n                if(e.key === \"Tab\" && e.shiftKey ){\r\n                    e.preventDefault();\r\n                    lastEl.focus();\r\n                }\r\n            })/* 3-2-1. FirstElì— ì´ˆì ì´ ìˆëŠ” ìƒíƒœë¡œ Tab í‚¤ì™€ Shiftë¥¼ ê°™ì´ ëˆ„ë¥´ë©´ ê¸°ë³¸ ì´ˆì ì´ë™ì„ ë§‰ê³ ,\r\n             lastEl ì¹œêµ¬ì—ê²Œë¡œ ì´ˆì ì„ ë³´ë‚´ê²Œë” í•©ë‹ˆë‹¤. */\r\n            lastEl.addEventListener('keydown',function(e){\r\n                if(e.key === \"Tab\" && !e.shiftKey ){\r\n                    e.preventDefault();\r\n                    firstEl.focus();\r\n                }\r\n            })/* 3-2-2. ë§ˆì°¬ê°€ì§€ë¡œ Tabí‚¤ë§Œ ëˆŒë €ì„ ë•Œ ê¸°ë³¸ ì´ˆì ì´ë™ì„ ë§‰ê³ ,\r\n            firstEl ì¹œêµ¬ì—ê²Œë¡œ ì´ˆì ì„ ë³´ëƒ…ë‹ˆë‹¤. */\r\n\r\n            //4. ì•„ê¹Œ rootì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì§€ì •í•´ë‘” #rootì„ í™œìš©í•˜ì—¬, ìŠ¤í¬ë¦°ë¦¬ë”ì˜ ê°€ìƒì»¤ì„œë¥¼ ë§‰ì•„ì¤ì‹œë‹¤.\r\n            setTimeout(()=>MenuEntrance.current.focus(),100)\r\n            root.setAttribute('aria-hidden',true);//4-1. isOpenì´ trueë©´ aria-hiddenì´ í™œì„±í™”ë˜ì–´ ê°€ìƒì»¤ì„œì˜ íƒìƒ‰í‚¤ë¥¼ ë§‰ìŠµë‹ˆë‹¤.\r\n        }else if(isOpen === false){\r\n            root.setAttribute('aria-hidden',false);//4-2. isOpenì´ falseë©´ ë§ˆì°¬ê°€ì§€ë¡œ aria-hiddenì„ í•´ì œí•˜ì—¬ ê°€ìƒì»¤ì„œ íƒìƒ‰í‚¤ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•©ë‹ˆë‹¤.\r\n            setTimeout(()=>MenuExit.current.focus(),100);\r\n        }\r\n    },[isOpen,MenuExit,MenuEntrance])\r\n    \r\n    return (\r\n    <div id=\"menu-wrapper\" className={\"global-menu isOpen \"+isVisible}>\r\n        <nav aria-label=\"ì½˜í…ì¸  ë©”ë‰´\">\r\n            <ul>\r\n                {menuitems.map((el,idx)=>{\r\n                    if(idx === 0){\r\n                        return <li key={idx}><a href=\"#\" ref={MenuEntrance}>{el}</a></li>\r\n                    }\r\n                    return <li key={idx}><a href=\"#\">{el}</a></li>\r\n                })}\r\n            </ul>\r\n        </nav>\r\n        <button aria-label={'ë‹«ê¸°'} onClick={toggleState} id=\"btnCloseMenu\"><span className=\"material-icons\">close</span></button>\r\n    </div>\r\n    )    \r\n}\r\nexport default MenuController;","import React, {useState} from 'react';\nimport './App.css';\nimport MenuController from './menu'\nfunction App() {\n  const [isButtonCatched,setCatched] = useState(false)\n  const buttonMessage = ()=>{\n    const text = !isButtonCatched ? \n      (<span id={'joking-label'}>Tabí‚¤ì•¼ ë‚˜ ì¡ì•„ë´ë¼ <span class=\"visuallyhidden\">ë©”ë¡±</span><span aria-hidden={true}>&gt;ğŸ‘…&lt;</span></span>)\n    : (<span id={'joking-label'}>ì•ˆë¼! Tabí‚¤í•œí…Œ ì¡í˜”ì–´! ã… ã… ..</span>)\n    return text;\n  }\n  const catchButton = (e)=>{\n    setCatched(true);\n  }\n  const letGoButton = (e)=>{\n    setCatched(false);\n  }\n\n  return (\n    <div className=\"App\">\n      {/* //Header ë§‰ëŒ€ë¥¼ ë§Œë“¤ê³ , ì•„ê¹Œ ë§Œë“  ì»´í¬ë„ŒíŠ¸ì™€ ëŒ€ì œëª©ì„ ë„£ì–´ì¤ì‹œë‹¤. */}\n      <header>\n        <MenuController />\n        <h1>React A11y Hamburger Menu</h1>\n      </header>\n      <main>\n        <button aria-labelledby={'joking-label'} onBlur={letGoButton} aria-describedby='clickMe' onClick={catchButton} id={'catchMe'}>{buttonMessage()}<span id=\"clickMe\" className={'desc'}>ì¡ì•˜ë‹¤ë©´ í´ë¦­í•´ì£¼ì„¸ìš”!</span></button>\n      </main>\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}